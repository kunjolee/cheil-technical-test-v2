<div class="task-container">
  <header class="task-header">
    <h2>Task Manager</h2>
    <button routerLink="/tasks/new" class="create-button">+ New Task</button>
  </header>

  <div *ngIf="tasks.length > 0; else noTasks" class="task-columns">
    <!-- Pending Column -->
    <div class="task-column">
      <h3 class="column-title">
        Pending <span class="badge">{{ getPendingCount() }}</span>
      </h3>
      <div class="task-list">
        <div *ngFor="let task of tasks">
          <div *ngIf="!task.isCompleted" class="task-item">
            <input
              type="checkbox"
              [checked]="task.isCompleted"
              (change)="toggleTaskCompletion(task.id)"
              class="modern-checkbox"
            />

            <div class="task-details" (click)="viewDetails(task.id)">
              <h4>{{ task.title }}</h4>
              <p *ngIf="task.description">{{ task.description }}</p>
              <small>Created: {{ task.createdDate | date : "medium" }}</small>
            </div>

            <button (click)="deleteTask(task.id)" class="delete-button">
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M19 7L18.1327 19.1425C18.0579 20.1891 17.187 21 16.1378 21H7.86224C6.81296 21 5.94208 20.1891 5.86732 19.1425L5 7M10 11V17M14 11V17M15 7V4C15 3.44772 14.5523 3 14 3H10C9.44772 3 9 3.44772 9 4V7M4 7H20"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Completed Column -->
    <div class="task-column">
      <h3 class="column-title">
        Completed <span class="badge">{{ getCompletedCount() }}</span>
      </h3>
      <div class="task-list">
        <div *ngFor="let task of tasks">
          <div *ngIf="task.isCompleted" class="task-item completed">
            <input
              type="checkbox"
              [checked]="task.isCompleted"
              (change)="toggleTaskCompletion(task.id)"
              class="modern-checkbox"
            />

            <div class="task-details" (click)="viewDetails(task.id)">
              <h4>{{ task.title }}</h4>
              <p *ngIf="task.description">{{ task.description }}</p>
              <small>Completed: {{ task.createdDate | date : "medium" }}</small>
            </div>

            <button (click)="deleteTask(task.id)" class="delete-button">
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M19 7L18.1327 19.1425C18.0579 20.1891 17.187 21 16.1378 21H7.86224C6.81296 21 5.94208 20.1891 5.86732 19.1425L5 7M10 11V17M14 11V17M15 7V4C15 3.44772 14.5523 3 14 3H10C9.44772 3 9 3.44772 9 4V7M4 7H20"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #noTasks>
    <div class="empty-state">
      <svg
        width="48"
        height="48"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15M9 5C9 6.10457 9.89543 7 11 7H13C14.1046 7 15 6.10457 15 5M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5M12 12V16M12 16L10 14M12 16L14 14"
          stroke="#4caf50"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
      <p>No tasks available. Create one!</p>
    </div>
  </ng-template>
</div>
